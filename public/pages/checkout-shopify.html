<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Checkout - Alovre</title>
    <meta name="description" content="Sicher zur Kasse bei Alovre">
    
    <!-- Preload Stripe -->
    <link rel="preconnect" href="https://js.stripe.com" crossorigin>
    <link rel="dns-prefetch" href="https://js.stripe.com">
    <link rel="preload" href="https://js.stripe.com/v3/" as="script">
    
    <link rel="icon" href="../images/logo/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="/styles/checkout-shopify.css">
</head>
<body class="shopify-checkout">
    <!-- Mobile Header -->
    <header class="shopify-header">
        <div class="shopify-header-content">
            <a href="/" class="shopify-logo">
                <img src="/images/logo/Logo.png" alt="Alovre">
            </a>
            <button class="cart-summary-toggle" id="cart-summary-toggle">
                <img src="/images/cart/cart.png" alt="Cart" class="cart-icon-img">
            </button>
        </div>
    </header>

    <main class="shopify-main">
        <!-- Mobile Order Summary Dropdown -->
        <div class="mobile-order-summary" id="mobile-order-summary">
            <button class="summary-toggle" id="summary-toggle-btn" aria-expanded="false">
                <div class="toggle-left">
                    <span class="toggle-text">Order summary</span>
                    <svg class="chevron" width="11" height="7" viewBox="0 0 11 7">
                        <path d="M5.5 5L10 1.5L11 2.5L5.5 7L0 2.5L1 1.5L5.5 5Z" fill="currentColor"/>
                    </svg>
                </div>
                <span class="summary-total" id="mobile-total">€0.00</span>
            </button>
            <div class="summary-content" id="summary-content" style="display: none;">
                <!-- Cart Items -->
                <div class="summary-items" id="mobile-summary-items"></div>
                
                <!-- Discount Code -->
                <div class="summary-discount">
                    <input type="text" placeholder="Discount code" id="mobile-discount-input" class="discount-input">
                    <button class="apply-btn" id="mobile-apply-btn">Apply</button>
                </div>
                
                <!-- Totals -->
                <div class="summary-totals">
                    <div class="summary-row">
                        <span>Subtotal</span>
                        <span id="mobile-subtotal">€0.00</span>
                    </div>
                    <div class="summary-row">
                        <span>Shipping</span>
                        <span class="shipping-free">FREE</span>
                    </div>
                    <div class="summary-row total-row">
                        <span>Total</span>
                        <span class="total-price">
                            <span class="currency">EUR</span>
                            <strong id="mobile-total-price">€0.00</strong>
                        </span>
                    </div>
                </div>
            </div>
        </div>

        <div class="shopify-container">
            <!-- Main Checkout Form -->
            <div class="checkout-main-content">
                <form id="checkout-form" class="shopify-form">
                    
                    <!-- Step 1: Email or Phone -->
                    <section class="checkout-section">
                        <div class="section-header">
                            <h2 class="section-title">Step 1/3 : Email or Phone</h2>
                            <a href="#" class="sign-in-link">Sign in</a>
                        </div>
                        <div class="form-field">
                            <input 
                                type="email" 
                                id="email" 
                                name="email" 
                                placeholder="Email or mobile phone number"
                                required
                                class="shopify-input"
                            >
                        </div>
                    </section>

                    <!-- Delivery Section -->
                    <section class="checkout-section">
                        <h2 class="section-title">Delivery</h2>
                        
                        <div class="form-field">
                            <label class="field-label">Country/Region</label>
                            <select id="country" name="country" required class="shopify-select">
                                <option value="DE" selected>Germany</option>
                                <option value="AT">Austria</option>
                                <option value="CH">Switzerland</option>
                                <option value="NL">Netherlands</option>
                                <option value="BE">Belgium</option>
                                <option value="FR">France</option>
                                <option value="IT">Italy</option>
                                <option value="ES">Spain</option>
                            </select>
                        </div>

                        <div class="form-field">
                            <input 
                                type="text" 
                                id="firstName" 
                                name="firstName" 
                                placeholder="First name (optional)"
                                class="shopify-input"
                            >
                        </div>

                        <div class="form-field">
                            <input 
                                type="text" 
                                id="lastName" 
                                name="lastName" 
                                placeholder="Last name"
                                required
                                class="shopify-input"
                            >
                        </div>

                        <div class="form-field">
                            <input 
                                type="text" 
                                id="address" 
                                name="address" 
                                placeholder="Address"
                                required
                                class="shopify-input address-input"
                            >
                            <svg class="search-icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
                                <path d="M14 14L17.5 17.5M16 9C16 12.866 12.866 16 9 16C5.134 16 2 12.866 2 9C2 5.134 5.134 2 9 2C12.866 2 16 5.134 16 9Z" stroke="#767676" stroke-width="2" stroke-linecap="round"/>
                            </svg>
                        </div>

                        <div class="form-field">
                            <input 
                                type="text" 
                                id="apartment" 
                                name="apartment" 
                                placeholder="Apartment, suite, etc. (optional)"
                                class="shopify-input"
                            >
                        </div>

                        <div class="form-field">
                            <input 
                                type="text" 
                                id="postalCode" 
                                name="postalCode" 
                                placeholder="Postal code"
                                required
                                class="shopify-input"
                            >
                        </div>

                        <div class="form-field">
                            <input 
                                type="text" 
                                id="city" 
                                name="city" 
                                placeholder="City"
                                required
                                class="shopify-input"
                            >
                        </div>

                        <div class="form-field checkbox-field">
                            <label class="checkbox-label">
                                <input type="checkbox" id="saveInfo" name="saveInfo">
                                <span class="checkbox-text">Save this information for next time</span>
                            </label>
                        </div>
                    </section>

                    <!-- Shipping Method -->
                    <section class="checkout-section">
                        <h2 class="section-title">Shipping method (Orders ship out in 1-2 business days)</h2>
                        <div class="shipping-method-box">
                            <div class="shipping-info">
                                <span class="shipping-name">Standard Shipping</span>
                                <span class="shipping-time">2-3 business days</span>
                            </div>
                            <span class="shipping-price">FREE</span>
                        </div>
                    </section>

                    <!-- Secure Checkout -->
                    <section class="checkout-section payment-section">
                        <h2 class="section-title">Secure Checkout</h2>
                        <p class="secure-text">All transactions are secure and encrypted. Your order includes free returns and 24/7 access to our award-winning customer service</p>
                        
                        <!-- Stripe Payment Element -->
                        <div id="payment-element" class="payment-element-wrapper">
                            <!-- Stripe will inject payment methods here -->
                        </div>
                        <div id="payment-message" class="payment-message"></div>
                    </section>

                    <!-- Order Summary (Desktop) -->
                    <section class="checkout-section order-summary-section desktop-only">
                        <h2 class="section-title">Order summary</h2>
                        <div class="desktop-summary-items" id="desktop-summary-items"></div>
                        
                        <div class="desktop-discount">
                            <input type="text" placeholder="Discount code" id="desktop-discount-input" class="discount-input">
                            <button type="button" class="apply-btn" id="desktop-apply-btn">Apply</button>
                        </div>

                        <div class="desktop-totals">
                            <div class="summary-row">
                                <span>Subtotal</span>
                                <span id="desktop-subtotal">€0.00</span>
                            </div>
                            <div class="summary-row">
                                <span>Shipping</span>
                                <span class="shipping-free">FREE</span>
                            </div>
                            <div class="summary-row total-row">
                                <span>Total</span>
                                <span class="total-price">
                                    <span class="currency">EUR</span>
                                    <strong id="desktop-total">€0.00</strong>
                                </span>
                            </div>
                        </div>
                    </section>

                    <!-- Submit Button -->
                    <button type="submit" id="submit-btn" class="submit-button">
                        Review order
                    </button>

                    <!-- Footer Links -->
                    <div class="checkout-footer-links">
                        <a href="#">Refund policy</a>
                        <a href="#">Privacy policy</a>
                        <a href="#">Terms of service</a>
                        <a href="#">Legal notice</a>
                        <a href="#">Contact</a>
                        <a href="#">Cookies</a>
                    </div>

                </form>
            </div>
        </div>
    </main>

    <!-- Scripts -->
    <script src="https://js.stripe.com/v3/"></script>
    <script src="/js/meta-pixel.js"></script>
    <script src="/js/checkout-shopify.js"></script>
</body>
</html>
